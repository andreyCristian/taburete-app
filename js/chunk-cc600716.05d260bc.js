(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc600716"],{"159b":function(t,e,a){var i=a("da84"),s=a("fdbc"),o=a("17c2"),r=a("9112");for(var c in s){var n=i[c],d=n&&n.prototype;if(d&&d.forEach!==o)try{r(d,"forEach",o)}catch(l){d.forEach=o}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,s=a("a640"),o=s("forEach");t.exports=o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},2532:function(t,e,a){"use strict";var i=a("23e7"),s=a("5a34"),o=a("1d80"),r=a("ab13");i({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(o(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var i=a("861d"),s=a("c6b6"),o=a("b622"),r=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},"4de4":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").filter,o=a("1dde"),r=o("filter");i({target:"Array",proto:!0,forced:!r},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"5a34":function(t,e,a){var i=a("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},ab13:function(t,e,a){var i=a("b622"),s=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(i){}}return!1}},b64b:function(t,e,a){var i=a("23e7"),s=a("7b0b"),o=a("df75"),r=a("d039"),c=r((function(){o(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(t){return o(s(t))}})},caad:function(t,e,a){"use strict";var i=a("23e7"),s=a("4d64").includes,o=a("44d2");i({target:"Array",proto:!0},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d388:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-edit__view"},[a("div",{staticClass:"product-edit__view--header"},[a("div",{staticClass:"header--title is-size-4 has-text-weight-bold"},[t._v(" "+t._s(t.titlePage)+" ")]),a("button",{staticClass:"button header--button",on:{click:function(e){return t.saveProduct()}}},[t._v(" Guardar ")])]),a("div",{staticClass:"columns product-edit__view--columns m-0"},[a("div",{staticClass:"column"},[a("form-product")],1),a("div",{staticClass:"column is-three-fifths"},[a("form-provider-cost")],1)])])},s=[],o=a("5530"),r=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form--edit-product"},[a("div",{staticClass:"is-size-5 has-text-weight-semibold mb-5"},[t._v(" Parametrización ")]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.nombre,expression:"product.nombre"}],staticClass:"input",attrs:{type:"text",placeholder:"Ingrese el nombre del producto"},domProps:{value:t.product.nombre},on:{input:function(e){e.target.composing||t.$set(t.product,"nombre",e.target.value)}}}),t._m(0)])]),a("div",{staticClass:"field field-body is-horizontal"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control is-expanded"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.tipo_unidad_id,expression:"product.tipo_unidad_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"tipo_unidad_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""}},[t._v("Seleccione una opción")]),t._l(t.unidsTypes,(function(e,i){return a("option",{key:i,domProps:{value:e.id}},[t._v(" "+t._s(e.nombre)+" ("+t._s(e.abreviatura)+") ")])}))],2)])])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.cantidad,expression:"product.cantidad"}],staticClass:"input",attrs:{type:"number",placeholder:"Ingrese la cantidad"},domProps:{value:t.product.cantidad},on:{input:function(e){e.target.composing||t.$set(t.product,"cantidad",e.target.value)}}}),t._m(1)])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control is-expanded"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.tipo_producto_id,expression:"product.tipo_producto_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"tipo_producto_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""}},[t._v("Seleccione una opción")]),t._l(t.productTypes,(function(e,i){return a("option",{key:i,domProps:{value:e.id}},[t._v(" "+t._s(e.nombre)+" ")])}))],2)])])]),a("hr",{staticClass:"h-divider"}),a("div",{staticClass:"is-size-5 has-text-weight-semibold mb-5"},[t._v(" Precio de venta ")]),a("form-value-product")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-beer"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-weight"})])}],d=a("49dd"),l=a("a378"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-value__product"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.valueProduct,expression:"valueProduct"}],staticClass:"input",attrs:{type:"number",placeholder:"Ingrese el precio de venta"},domProps:{value:t.valueProduct},on:{input:function(e){e.target.composing||(t.valueProduct=e.target.value)}}}),t._m(0)])]),a("div",{staticClass:"is-size-6 has-text-weight-semibold mb-3"},[t._v(" Comparativa de precios ")]),a("p",{staticClass:"mb-3"},[t._v(" % Ganancia según PV parametrizado: "),a("span",{staticClass:"has-text-weight-semibold"},[t._v(" "+t._s(t.getPercentPV())+" ")])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control is-expanded"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.providerId,expression:"providerId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.providerId=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:""}},[t._v("Seleccione una opción")]),t._l(t.providers,(function(e,i){return a("option",{key:i,domProps:{value:e.id}},[t._v(" "+t._s(e.nombre)+" ")])}))],2)])])])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-coins"})])}],v=a("26fc"),f=a("e32b"),b={data:function(){return{providerId:null}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["d"])(d["b"].PATH,["product"])),Object(r["d"])(v["b"].PATH,["providers"])),Object(r["d"])(f["b"].PATH,["catalog"])),{},{valueProduct:{get:function(){return this.product.precio_venta},set:function(t){this.updateValueProduct(t)}}}),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(d["b"].PATH,{updateValueProduct:d["b"].actions.UPDATE_VALUE_PRODUCT})),{},{getPercentPV:function(){if(this.valueProduct&&this.providerId)for(var t=0;t<this.catalog.length;t+=1)if(this.catalog[t].proveedor_id===this.providerId){var e=100*this.valueProduct/this.catalog[t].valor-100;return Math.round(100*e)/100}return"-"}})},m=b,h=a("2877"),_=Object(h["a"])(m,u,p,!1,null,null,null),g=_.exports,C={components:{FormValueProduct:g},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(l["b"].PATH,["unidsTypes","productTypes"])),Object(r["d"])(d["b"].PATH,["product"]))},P=C,O=Object(h["a"])(P,c,n,!1,null,null,null),j=O.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form--edit-product"},[a("div",{staticClass:"is-size-5 has-text-weight-semibold mb-5 has-text-right"},[t._v(" Costo del producto ")]),a("div",{staticClass:"edit-product__providers-list"},[t._l(t.catalog,(function(e,i){return a("div",{key:i,class:{"providers-list--item":!t.costProduct||t.costProduct&&t.costProduct.id!=e.id}},[!t.costProduct||t.costProduct&&t.costProduct.id!=e.id?a("provider-cost-view",{attrs:{data:e},on:{click:function(e){return t.createCatalog(i)}}}):t._e(),t.costProduct&&t.costProduct.id==e.id?a("provider-cost-edit"):t._e()],1)})),t.costProduct&&!t.costProduct.id?a("provider-cost-edit"):t._e(),a("div",{staticClass:"providers-list--add-btn has-text-centered is-size-6",on:{click:function(e){return t.createCatalog()}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Registrar nuevo costo del producto ")])],2)])},A=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns m-0"},[a("div",{staticClass:"providers-list--hoverable-option"},[a("button",{staticClass:"button",on:{click:function(e){return t.updateItemCatalog(t.data)}}},[a("i",{staticClass:"fas fa-pencil-alt"})]),a("button",{staticClass:"button",on:{click:function(e){return t.deleteItemCatalog(t.data.id)}}},[a("i",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"providers-list--item-name column is-three-quarters"},[a("div",{staticClass:"has-text-weight-bold is-size-7"},[t._v("Proveedor")]),t._v(" "+t._s(t.data.nombre_prov)+" ")]),a("div",{staticClass:"providers-list--item-value column"},[a("div",{staticClass:"has-text-weight-bold is-size-7"},[t._v("Costo")]),t._v(" $ "+t._s(t.data.valor)+" ")])])},y=[],I={props:{data:{type:Object,default:function(){}}},methods:Object(o["a"])({},Object(r["b"])(f["b"].PATH,{updateItemCatalog:f["b"].actions.UPDATE_ITEM_CATALOG,deleteItemCatalog:f["b"].actions.DELETE_ITEM_CATALOG}))},w=I,x=Object(h["a"])(w,E,y,!1,null,null,null),D=x.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"provider-list--item-edit"},[a("div",{staticClass:"field field-body is-horizontal"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control is-expanded"},[a("div",{staticClass:"select is-fullwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.catalogItem.proveedor_id,expression:"catalogItem.proveedor_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.catalogItem,"proveedor_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""}},[t._v("Seleccione una opción")]),t._l(t.getListNoRepeatIds(),(function(e,i){return a("option",{key:i,domProps:{value:e.id}},[t._v(" "+t._s(e.nombre)+" ")])}))],2)])])]),a("p",{staticClass:"control has-icons-left is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.catalogItem.valor,expression:"catalogItem.valor"}],staticClass:"input",attrs:{type:"number",placeholder:"Ingrese el valor"},domProps:{value:t.catalogItem.valor},on:{input:function(e){e.target.composing||t.$set(t.catalogItem,"valor",e.target.value)}}}),t._m(0)]),a("button",{staticClass:"button ml-2",on:{click:function(e){return t.saveItemCatalog()}}},[a("i",{staticClass:"fas fa-check-circle"})]),a("button",{staticClass:"button ml-2",on:{click:function(e){return t.updateItemCatalog(null)}}},[a("i",{staticClass:"fas fa-times-circle"})])])])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-weight"})])}],k=(a("4de4"),a("caad"),a("2532"),{computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["d"])(v["b"].PATH,["providers"])),Object(r["d"])(f["b"].PATH,["costProduct"])),Object(r["c"])(f["b"].PATH,{providersCatalogId:f["b"].getters.GET_ID_PROVIDERS_CATALOG})),Object(r["c"])(v["b"].PATH,{providersId:v["b"].getters.GET_ID_PROVIDERS})),{},{catalogItem:{get:function(){return this.costProduct},set:function(t){this.updateItemCatalog(t)}}}),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(f["b"].PATH,{saveItemCatalog:f["b"].actions.SAVE_NEW_ITEM,updateItemCatalog:f["b"].actions.UPDATE_ITEM_CATALOG})),{},{getListNoRepeatIds:function(){var t=this,e=this.providersId.filter((function(e){return!t.providersCatalogId.includes(e)}));return this.providers.filter((function(t){return e.includes(t.id)}))}})}),S=k,U=Object(h["a"])(S,H,$,!1,null,null,null),R=U.exports,V={computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(d["b"].PATH,["id"])),Object(r["d"])(f["b"].PATH,["catalog","costProduct"])),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(f["b"].PATH,{updateItemCatalog:f["b"].actions.UPDATE_ITEM_CATALOG})),{},{createCatalog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t?this.updateItemCatalog({producto_id:this.id}):this.updateItemCatalog(this.catalog[t])}}),components:{ProviderCostView:D,ProviderCostEdit:R}},z=V,N=Object(h["a"])(z,T,A,!1,null,null,null),G=N.exports,L={components:{FormProduct:j,FormProviderCost:G},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(d["b"].PATH,["id","product"])),{},{titlePage:function(){return this.id?"Editar producto":"Crear producto"}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["b"])(d["b"].PATH,{saveProduct:d["b"].actions.SAVE_PRODUCT,updateProduct:d["b"].actions.UPDATE_PRODUCT})),Object(r["b"])(f["b"].PATH,{updateCatalog:f["b"].actions.UPDATE_CATALOG})),Object(r["b"])(l["b"].PATH,{updateUnidsType:l["b"].actions.UPDATE_UNIDS_TYPES,updateProductType:l["b"].actions.UPDATE_PRODUCTS_TYPES})),Object(r["b"])(v["b"].PATH,{updateProviders:v["b"].actions.UPDATE_PROVIDERS})),created:function(){this.updateProduct(this.$route.params.id),this.updateCatalog(this.$route.params.id),this.updateUnidsType(),this.updateProviders(),this.updateProductType()}},M=L,F=Object(h["a"])(M,i,s,!1,null,null,null);e["default"]=F.exports},dbb4:function(t,e,a){var i=a("23e7"),s=a("83ab"),o=a("56ef"),r=a("fc6a"),c=a("06cf"),n=a("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var e,a,i=r(t),s=c.f,d=o(i),l={},u=0;while(d.length>u)a=s(i,e=d[u++]),void 0!==a&&n(l,e,a);return l}})},e439:function(t,e,a){var i=a("23e7"),s=a("d039"),o=a("fc6a"),r=a("06cf").f,c=a("83ab"),n=s((function(){r(1)})),d=!c||n;i({target:"Object",stat:!0,forced:d,sham:!c},{getOwnPropertyDescriptor:function(t,e){return r(o(t),e)}})}}]);
//# sourceMappingURL=chunk-cc600716.05d260bc.js.map